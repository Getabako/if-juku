{
  "id": 1398,
  "title": "Minecraft if鬼ごっこの作り方②(Minecraft java 1.20.1)",
  "excerpt": "今回からif鬼ごっこの作り方①のほうで作った「.mcfunction」で終わるファイルの中身について細かく説明していきます。まずは、鬼と逃走者をチームとタグで管理するところから始めましょう。 firsta.mcfunction 「firsta.mcfunction」に以下のコマンドを打ち込みます。 team add oni \"鬼\" team add toso \"逃走者\" team modify o...",
  "content": "今回からif鬼ごっこの作り方①のほうで作った「.mcfunction」で終わるファイルの中身について細かく説明していきます。まずは、鬼と逃走者をチームとタグで管理するところから始めましょう。 firsta.mcfunction 「firsta.mcfunction」に以下のコマンドを打ち込みます。 team add oni \"鬼\" team add toso \"逃走者\" team modify oni seeFriendlyInvisibles true team modify toso seeFriendlyInvisibles false team modify oni color red team modify toso color blue １行目 team add oni \"鬼\" 表示名が「鬼」でコマンド内で使う名前が「oni」となるチームを作成するということです。 ２行目 team add toso \"逃走者\" 表示名が「逃走者」でコマンド内で使う名前が「toso」となるチームを作成するということです。 ３行目 team modify oni seeFriendlyInvisibles true 同じ鬼チームの人の透明化が分かるようにする設定です。うっすらと透明化している味方（鬼）が見えます。 ４行目 team modify toso seeFriendlyInvisibles false 同じ逃走者チームの人が透明化していても分からないようにする設定です。 ５行目 team modify oni color red 鬼チームの色を赤にする設定です。 ６行目 team modify toso color blue 逃走者チームの色を青にする設定です。 jointeam.mcfunction 「jointeam.mcfunction」に以下のコマンドを打ち込みます。 tag @a remove oni tag @a remove toso team empty oni team empty toso tag @a[tag=games1,tag=onihope] add oni tag @a remove onihope tag @a[tag=games1,tag=!oni] add toso team join oni @a[tag=oni] team join toso @a[tag=toso] １行目 tag @a remove oni 「oni」というタグを全員から消すということです。 ２行目 tag @a remove toso 「toso」というタグを全員から消すということです。 ３行目 team empty oni 鬼チームに誰も所属していない状態にします。 ４行目 team empty toso 逃走者チームに誰も所属していない状態にします。 ５行目 tag @a[tag=games1,tag=onihope] add oni 「games1」はif鬼ごっこに参加を希望する人につけるタグです。「onihope」は鬼になりたい人につけるタグです。そして、if鬼ごっこに参加したいかつ、鬼になりたい人に「oni」タグをつけるということです。 ６行目 tag @a remove onihope もう「oni」タグをつけてあげたので、「onihope」タグを消します。 ７行目 tag @a[tag=games1,tag=!oni] add toso if鬼ごっこに参加したいかつ、鬼にはならなかった人に「toso」タグをつけます。 ８行目 team join oni @a[tag=oni] 「oni」タグがついている人を鬼チームに所属させます。 ９行目 team join toso @a[tag=toso] 「toso」タグがついている人を逃走者チームに所属させます。 ブロックに乗るだけで参加？！ コマンドブロックにボタンをつけて、その都度クリックして参加登録をするよりも、動画のようにブロックに乗っただけで参加の登録をできるほうがスマートです。ブロックから降りても最後に乗ったところの登録が反映されているのが確認ボタンを押すことで分かりますね。ということで、この仕組みのコマンドを解説しましょう。実はブロックに乗ったことを検知しているのではなく、単純に設定した範囲内にいるプレイヤーことを検知しているだけです。 3×3で高さ2の範囲の中で一番数字の小さいところの座標を調べます。その座標を（x=○,y=△,z=□）として進めます。 鬼の登録のコマンドは以下の通りで、1行目が（リピート・無条件）のコマンドブロックに２～３行目は（チェーン・無条件・常時実行）のコマンドブロックに書く内容です。 execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2] if entity @s run tag @s add games1 execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2,tag=games1] if entity @s run tag @s add onihope execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2,tag=games1] if entity @s run title @s actionbar [\"\",{\"text\":\"\\u9b3c\\u3054\\u3063\\u3053\\u306e\",\"color\":\"aqua\"},{\"text\":\"\\u9b3c\",\"color\":\"red\"},{\"text\":\"\\u306b\\u306a\\u308a\\u305f\\u3044\\u306e\\u3067\\u5408\\u3063\\u3066\\u308b\\uff1f\\u59cb\\u307e\\u308b\\u307e\\u3067\\u5f85\\u3063\\u3066\\u3066\\u306d\\u3002\",\"color\":\"aqua\"}] 座標をまた調べてから、同じようにやります。逃走者の登録のコマンドは以下の通りで、1行目が（リピート・無条件）のコマンドブロックに２～３行目は（チェーン・無条件・常時実行）のコマンドブロックに書く内容です。 execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2] if entity @s run tag @s add games1 execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2,tag=games1] if entity @s run tag @s remove onihope execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2,tag=games1] if entity @s run title @s actionbar [\"\",{\"text\":\"\\u9b3c\\u3054\\u3063\\u3053\\u306e\",\"color\":\"aqua\"},{\"text\":\"\\u9003\\u8d70\\u8005\",\"color\":\"blue\"},{\"text\":\"\\u306b\\u306a\\u308a\\u305f\\u3044\\u306e\\u3067\\u5408\\u3063\\u3066\\u308b\\uff1f\\u59cb\\u307e\\u308b\\u307e\\u3067\\u5f85\\u3063\\u3066\\u3066\\u306d\\u3002\",\"color\":\"aqua\"}] 座標をまた調べてから、同じようにやります。登録解除のコマンドは以下の通りで、1行目が（リピート・無条件）のコマンドブロックに２～３行目は（チェーン・無条件・常時実行）のコマンドブロックに書く内容です。 execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2] if entity @s run tag @s remove onihope execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2,tag=games1] if entity @s run tag @s remove games1 execute as @a[x=○,y=△,z=□,dx=2,dy=1,dz=2] if entity @s run title @s actionbar {\"text\":\"\\u3069\\u3053\\u306b\\u3082\\u53c2\\u52a0\\u3057\\u3066\\u3044\\u306a\\u3044\\u72b6\\u614b\\u306b\\u3057\\u305f\\u3088\\u3002\",\"color\":\"aqua\"} 確認用コマンドは以下の通りで、1行目が（インパルス・無条件）のコマンドブロックに２～３行目は（チェーン・無条件・常時実行）のコマンドブロックに書く内容です。 execute as @a[tag=games1,tag=!onihope] run say 逃走者です。 execute as @a[tag=games1,tag=onihope] run say 鬼です。 execute as @a[tag=!games1] run say 参加していません。 終わりに 今回はこれで終わりです。",
  "featuredImage": "/2024/04/スクリーンショット-2024-04-16-201543.png",
  "link": "https://if-juku.net/?p=1398",
  "date": "2024-04-23",
  "author": "akitaclark0731-03@gmail.com",
  "categories": [
    "Minecraft",
    "Minecraft Java",
    "鬼ごっこ"
  ]
}